(function(e,a,g){var b={idFormCreate:"frmUpdateRestaurant",idBtnCreate:"btnUpdateRestaurant",idHfId:"hfId",idPanelBodyRestaurant:"panelBodyRestaurant",classFormControlTipText:"form-control-tip-txt",urlRestaurant:"/restaurant/",objLadda:null};var d=function(){e("."+b.classFormControlTipText).on({change:function(){var i=e(this).val();var h=e(this).data("rel");if(i!==""&&e.isNumeric(i)){e("#"+h).attr("required","true")}else{e("#"+h).removeAttr("required")}}});e("#"+b.idBtnCreate).click(function(){var h=e(this);var i=e("#"+b.idHfId).val();e("#"+b.idFormCreate).validate({submitHandler:function(j){b.objLadda=Ladda.create(h.get(0));b.objLadda.start();c(j,i)}})})};var c=function(k,j){var i=j;var h={data:{id:j,_method:"PUT"},dataType:"json",success:function(l){var m=e.parseJSON(l);if((m!=null)&&(m.success)){window.location=(b.urlRestaurant+i+"?status=updated")}else{if(m!=null){VWUtility.showDismissibleAlert("#"+b.idPanelBodyRestaurant,VWUtility.getAlertTypes().ALERT_TYPE_DANGER,"Error:","Problem updating Restaurant ("+m.status+").");VWUtility.scrollToTop();VWUtility.resetLadda(b.objLadda)}}},error:function(){VWUtility.resetLadda(b.objLadda)}};e(k).ajaxSubmit(h)};var f=function(){d()};f()}(jQuery,window.VWRestaurantEdit=window.VWRestaurantEdit||{}));