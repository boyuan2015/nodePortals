$().ready(function(){var a={classLaddaBtn:"ladda-button",urlUserCreate:"/user"};$("#alertBox .close").click(function(){$(".alert").hide()});$("#chkAssignRestaurant").change(function(){if($(this).prop("checked")){$("#divRestaurantRole").show()}else{$("#divRestaurantRole").hide()}});$("#btnCreateUser").click(function(){$("#frmAddUser").validate({rules:{txtAccountDetailsUsername:"required",txtAccountDetailsFirstName:"required",txtAccountDetailsLastName:"required",txtAccountDetailsEmail:{required:true,email:true},txtAccountDetailsPhone:{required:true,phoneUS:true},txtPasswordDetailsPassword:"required",txtPasswordDetailsConfirmPassword:{equalTo:"#txtPasswordDetailsPassword"}},submitHandler:function(d,b){b.preventDefault();var c=Ladda.create($("#btnCreateUser").get(0));c.start();var e=$("#hidRestaurantId").val();var h=$("#txtAccountDetailsUsername").val();var l=$("#txtAccountDetailsFirstName").val();var n=$("#txtAccountDetailsLastName").val();var j=$("#txtAccountDetailsEmail").val();var i=$("#txtAccountDetailsPhone").val().replace(/-/g,"");var k=$("#txtPasswordDetailsPassword").val();var g=$("#chkAssignRestaurant").prop("checked");var f=$("#selRestaurantRole option:selected").text();var m=$("#selLegacyRole").val();$.ajax({url:a.urlUserCreate,type:"POST",dataType:"html",data:{restaurantId:e,username:h,firstName:l,lastName:n,email:j,phone:i,password:k,assignToRestaurant:g,restaurantRole:f,legacyRole:m},success:function(p){var o=jQuery.parseJSON(p);console.log(o.success);if(o.success){ShowAlert(o.status,"Success")}else{ShowAlert(o.status,"Error")}c.stop()},error:function(o){ShowAlert(o.responseText,"Error");c.stop()}})}})})});function ShowAlert(b,a){if(a=="Success"){$("#alertBox").removeClass("alert-danger");$("#alertBox").addClass("alert-success")}else{if(a=="Error"){$("#alertBox").removeClass("alert-success");$("#alertBox").addClass("alert-danger")}}$("#alertType").text(a);$("#alertMessage").text(b);$("#alertBox").show()};