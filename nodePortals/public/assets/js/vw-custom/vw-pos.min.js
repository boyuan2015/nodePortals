$().ready(function(){var a={classLaddaBtn:"ladda-button",urlPosUpdate:"/pos/{id}",urlPosDelete:"/pos/{id}"};$("#selPosType").change(function(){var b=$(this).val();switch(b){case"DEMO":$("#div-connectionstring").hide();$("#div-webservice").hide();break;case"ALOHA":case"DINERWARE":$("#div-connectionstring").hide();$("#div-webservice").show();break;default:$("#div-connectionstring").show();$("#div-webservice").show();break}});$("#alertBox .close").click(function(){$(".alert").hide()});$("#btnSavePos").click(function(){var d=Ladda.create($(this).get(0));d.start();var f=$("#hidRestaurantId").val();var e=$("#selPosType").val();var b=$("#txtWebServiceURL").val();var c=$("#txtConnectionString").val();$.ajax({url:a.urlPosUpdate.replace("{id}",f.toString()),type:"PUT",dataType:"html",data:{id:f,posType:e,webserviceURL:b,connectionString:c},success:function(i){var h=jQuery.parseJSON(i);console.log(h.success);if(h.success){var g=$("#selPosType");if(g.attr("disabled")==undefined){g.attr("disabled","disabled");$("#btnDeletePos").show()}ShowAlert(h.status,"Success")}else{ShowAlert(h.status,"Error")}d.stop()},error:function(g){ShowAlert(g.responseText,"Error");d.stop()}})});$("#btnDeletePos").click(function(){var b=Ladda.create($(this).get(0));b.start();var c=$("#hidRestaurantId").val();$.ajax({url:a.urlPosDelete.replace("{id}",c.toString()),type:"DELETE",dataType:"html",data:{id:c},success:function(e){var d=jQuery.parseJSON(e);console.log(d.success);if(d.success){ShowAlert(d.status,"Success");ResetNewPos()}else{ShowAlert(d.status,"Error")}b.stop()},error:function(d){ShowAlert(d.responseText,"Error");b.stop()}})})});function ShowAlert(b,a){if(a=="Success"){$("#alertBox").removeClass("alert-danger");$("#alertBox").addClass("alert-success")}else{if(a=="Error"){$("#alertBox").removeClass("alert-success");$("#alertBox").addClass("alert-danger")}}$("#alertType").text(a);$("#alertMessage").text(b);$("#alertBox").show()}function ResetNewPos(){var a=$("#selPosType");a.removeAttr("disabled");a.val("ALOHA");$("#txtWebServiceURL").val("");$("#txtConnectionString").val("");$("#div-webservice").show();$("#div-connectionstring").hide();$("#btnDeletePos").hide()};