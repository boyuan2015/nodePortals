$().ready(function(){var a={classLaddaBtn:"ladda-button",urlUserUpdate:"/user/{id}",urlChangePassword:"/user/reset"};if(window.location.href.indexOf("account/editProfile")==-1){$("#liRestaurants, #liSelectedRestaurant, #liRestaurantUsers").addClass("open, active").find("ul:first").css("display","block")}$("#alertBox .close").click(function(){$(".alert").hide()});$("#btnUpdateUser").click(function(){$("#frmEditUser").validate({rules:{txtAccountDetailsFirstName:"required",txtAccountDetailsLastName:"required",txtAccountDetailsEmail:{required:true,email:true},txtAccountDetailsPhone:{required:true,phoneUS:true}},submitHandler:function(g,f){f.preventDefault();var e=Ladda.create($("#btnUpdateUser").get(0));e.start();var h=$("#hidUpdateUsername").val();var d=$("#txtAccountDetailsFirstName").val();var c=$("#txtAccountDetailsLastName").val();var b=$("#txtAccountDetailsEmail").val();$.ajax({url:a.urlUserUpdate.replace("{id}",h),type:"PUT",dataType:"html",data:{username:h,firstName:d,lastName:c,email:b},success:function(j){var i=jQuery.parseJSON(j);if(i.success){ShowAlert(i.status,"Success")}else{ShowAlert(i.status,"Error")}},error:function(i){ShowAlert(i.responseText,"Error")}}).always(function(){VWUtility.resetLadda(e);VWUtility.scrollToTop()})}})});$("#btnChangePassword").click(function(){$("#frmChangePassword").validate({rules:{txtPasswordDetailsPassword:"required",txtPasswordDetailsConfirmPassword:{equalTo:"#txtPasswordDetailsPassword"}},submitHandler:function(e,d){d.preventDefault();var c=Ladda.create($("#btnChangePassword").get(0));c.start();var f=$("#hidChangePasswordUsername").val();var b=$("#txtPasswordDetailsPassword").val();$.ajax({url:a.urlChangePassword,type:"POST",dataType:"html",data:{username:f,password:b},success:function(h){var g=jQuery.parseJSON(h);if(g.success){ShowAlert(g.status,"Success")}else{ShowAlert(g.status,"Error")}},error:function(g){ShowAlert(g.responseText,"Error")}}).always(function(){VWUtility.resetLadda(c);VWUtility.scrollToTop()})}})})});function ShowAlert(b,a){if(a=="Success"){$("#alertBox").removeClass("alert-danger");$("#alertBox").addClass("alert-success")}else{if(a=="Error"){$("#alertBox").removeClass("alert-success");$("#alertBox").addClass("alert-danger")}}$("#alertType").text(a);$("#alertMessage").text(b);$("#alertBox").show()};