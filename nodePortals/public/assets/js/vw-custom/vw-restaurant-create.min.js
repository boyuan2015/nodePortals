(function(e,a,g){var c={idFormCreate:"frmCreateRestaurant",idBtnCreate:"btnCreateRestaurant",idPanelBodyRestaurant:"panelBodyRestaurant",classFormControlTipText:"form-control-tip-txt",urlRestaurant:"/restaurant/",objLadda:null};var d=function(){e("."+c.classFormControlTipText).on({change:function(){var i=e(this).val();var h=e(this).data("rel");if(i!==""&&e.isNumeric(i)){e("#"+h).attr("required","true")}else{e("#"+h).removeAttr("required")}}});e("#"+c.idBtnCreate).click(function(){var h=e(this);e("#"+c.idFormCreate).validate({submitHandler:function(i){c.objLadda=Ladda.create(h.get(0));c.objLadda.start();b(i)}})})};var b=function(i){var h={dataType:"json",success:function(j){var k=e.parseJSON(j);if((k!=null)&&(k.success)){window.location=(c.urlRestaurant+k.data.id+"?status=created")}else{if(k!=null){VWUtility.showDismissibleAlert("#"+c.idPanelBodyRestaurant,VWUtility.getAlertTypes().ALERT_TYPE_DANGER,"Error:","Problem creating Restaurant ("+k.status+").");VWUtility.scrollToTop();VWUtility.resetLadda(c.objLadda)}}},error:function(){VWUtility.resetLadda(c.objLadda)}};e(i).ajaxSubmit(h)};var f=function(){d()};f()}(jQuery,window.VWRestaurantCreate=window.VWRestaurantCreate||{}));