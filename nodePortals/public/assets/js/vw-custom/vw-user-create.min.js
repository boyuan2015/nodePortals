$().ready(function(){var a={classLaddaBtn:"ladda-button",urlUserCreate:"/user"};$("#alertBox .close").click(function(){$(".alert").hide()});$("#chkAssignRestaurant").change(function(){if($(this).prop("checked")){$("#divRestaurantRole").show()}else{$("#divRestaurantRole").hide()}});$("#btnCreateUser").click(function(){$("#frmAddUser").validate({rules:{txtAccountDetailsPhone:{phoneUS:true},txtPasswordDetailsConfirmPassword:{equalTo:"#txtPasswordDetailsPassword"}},submitHandler:function(e,b){b.preventDefault();var c=Ladda.create($("#btnCreateUser").get(0));c.start();var f=$("#hidRestaurantId").val();var i=$("#txtAccountDetailsUsername").val();var n=$("#txtAccountDetailsFirstName").val();var p=$("#txtAccountDetailsLastName").val();var k=$("#txtAccountDetailsEmail").val();var j=$("#txtAccountDetailsPhone").val().replace(/-/g,"");var m=$("#txtPasswordDetailsPassword").val();var h=$("#chkAssignRestaurant").prop("checked");var d=$("#chkAssignLegacyUser").prop("checked");var l=$("#chkAssignLegacyAdmin").prop("checked");var g=$("#selRestaurantRole option:selected").text();var o=$("#selLegacyRole").val();$.ajax({url:a.urlUserCreate,type:"POST",dataType:"html",data:{restaurantId:f,username:i,firstName:n,lastName:p,email:k,phone:j,password:m,assignToRestaurant:h,restaurantRole:g,assignLegacyUser:d,assignLegacyAdmin:l},success:function(r){var q=jQuery.parseJSON(r);console.log(q.success);if(q.success){ShowAlert(q.status,"Success")}else{ShowAlert(q.status,"Error")}c.stop()},error:function(q){ShowAlert(q.responseText,"Error");c.stop()}})}})})});function ShowAlert(b,a){if(a=="Success"){$("#alertBox").removeClass("alert-danger");$("#alertBox").addClass("alert-success")}else{if(a=="Error"){$("#alertBox").removeClass("alert-success");$("#alertBox").addClass("alert-danger")}}$("#alertType").text(a);$("#alertMessage").text(b);$("#alertBox").show()};