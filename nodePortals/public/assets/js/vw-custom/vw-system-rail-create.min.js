(function(e,b,g){var d={idBtnCreateRail:"btnCreateRail",idFormCreateRail:"frmCreateRail",urlSystemStoreRail:"/system/storeRail",urlSystemCreateRail:"/system/createRail"};var c=function(){e.validator.addMethod("macAddress",function(i){var h=/^([0-9a-f]{1,2}[\.:-]){5}([0-9a-f]{1,2})$/i;return h.test(i)}," Invalid MAC Address.");e("#"+d.idBtnCreateRail).click(function(){var h=e(this);e("#"+d.idFormCreateRail).validate({rules:{txtMacAddress:{macAddress:true}},submitHandler:function(i){d.objLadda=Ladda.create(h.get(0));d.objLadda.start();a(i)}})})};var a=function(i){var h={url:d.urlSystemStoreRail,dataType:"json",success:function(j){var k=e.parseJSON(j);if((k!=null)&&(k.success)){window.location=(d.urlSystemCreateRail+"?status="+k.status)}else{if(k!=null){VWUtility.showDismissibleAlert("#panelBodyRail",VWUtility.getAlertTypes().ALERT_TYPE_DANGER,"Error:","Problem creating Charging Station ("+k.status+").");VWUtility.resetLadda(d.objLadda)}}},error:function(){VWUtility.resetLadda(d.objLadda)}};e(i).ajaxSubmit(h)};var f=function(){c()};f()}(jQuery,window.VWSystemRailCreate=window.VWSystemRailCreate||{}));